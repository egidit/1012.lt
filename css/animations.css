/* ── Page entrance animations ── */
.page .widget {
  opacity: 0;
  transform: translateY(20px) scale(0.95);
  transition: opacity 0.4s var(--ease-out), transform 0.4s var(--ease-out);
}

.page.visible .widget {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Stagger children */
.page.visible .widget:nth-child(2) { transition-delay: 0.05s; }
.page.visible .widget:nth-child(3) { transition-delay: 0.1s; }
.page.visible .widget:nth-child(4) { transition-delay: 0.15s; }
.page.visible .widget:nth-child(5) { transition-delay: 0.2s; }
.page.visible .widget:nth-child(6) { transition-delay: 0.25s; }
.page.visible .widget:nth-child(7) { transition-delay: 0.3s; }
.page.visible .widget:nth-child(8) { transition-delay: 0.35s; }

/* ── Page title animation ── */
.page-title {
  opacity: 0;
  transform: translateY(-10px);
  transition: opacity 0.35s var(--ease-out), transform 0.35s var(--ease-out);
}

.page.visible .page-title {
  opacity: 1;
  transform: translateY(0);
}

/* ── Idle pulse for interactive widgets ── */
@keyframes idlePulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(124, 91, 245, 0); }
  50%      { box-shadow: 0 0 0 6px rgba(124, 91, 245, 0.15); }
}

.widget--idle-hint {
  animation: idlePulse 3s ease-in-out infinite;
}

/* ── Glow for active canvas ── */
@keyframes canvasGlow {
  0%, 100% { box-shadow: inset 0 0 30px rgba(124, 91, 245, 0.05); }
  50%      { box-shadow: inset 0 0 30px rgba(124, 91, 245, 0.12); }
}

.widget--canvas-glow {
  animation: canvasGlow 4s ease-in-out infinite;
}

/* ── Confetti particle ── */
@keyframes confettiFall {
  0%   { transform: translateY(0) rotate(0deg); opacity: 1; }
  100% { transform: translateY(60px) rotate(360deg); opacity: 0; }
}

.confetti-particle {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 1px;
  pointer-events: none;
  animation: confettiFall 0.7s var(--ease-out) forwards;
}

/* ── Bubble pop wave reset ── */
@keyframes bubbleInflate {
  0%   { transform: scale(0.85); }
  60%  { transform: scale(1.05); }
  100% { transform: scale(1); }
}
